default_compiler: clang++
default_standard: c++17

builds:
  - main:
    - sources: 'main.cpp,
      opengl.cpp,
      thirdparty/imgui/imgui.cpp,
      thirdparty/imgui/imgui_draw.cpp,
      thirdparty/imgui/imgui_tables.cpp,
      thirdparty/imgui/imgui_widgets.cpp,
      thirdparty/imgui/backends/imgui_impl_glfw.cpp,
      thirdparty/imgui/backends/imgui_impl_opengl3.cpp,
      glad/src/glad.c'
    - idirs: '., glad/include,
      thirdparty,
      thirdparty/glm,
      thirdparty/imgui,
      thirdparty/imgui/backends'
    - libraries: 'glfw'
    - flags: '-std=c++17 -O3'
  - main_gdb:
    - sources: 'main.cpp,
      opengl.cpp,
      thirdparty/imgui/imgui.cpp,
      thirdparty/imgui/imgui_draw.cpp,
      thirdparty/imgui/imgui_tables.cpp,
      thirdparty/imgui/imgui_widgets.cpp,
      thirdparty/imgui/backends/imgui_impl_glfw.cpp,
      thirdparty/imgui/backends/imgui_impl_opengl3.cpp,
      glad/src/glad.c'
    - idirs: '., glad/include,
      thirdparty,
      thirdparty/glm,
      thirdparty/imgui,
      thirdparty/imgui/backends'
    - libraries: 'glfw'
    - flags: '-std=c++17 -g'

targets:
  - main:
    - modes: gdb
    - builds:
      - default: main
      - gdb: main_gdb
    - postbuilds:
      - default: '{}'
      - gdb: 'gdb {}'
